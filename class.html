<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>James' School Schedule</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: #1a1a2e;
            color: white;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }
        header {
            background: #232946;
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }
        h1 {
            font-size: 36px;
            margin-bottom: 5px;
        }
        p {
            font-size: 16px;
            margin-top: 0;
        }
        .container {
            display: flex;
            justify-content: center;
            padding: 20px;
        }
        .schedule-table {
            width: 80%;
            max-width: 1000px;
            border-collapse: collapse;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .schedule-table th, .schedule-table td {
            padding: 15px;
            text-align: center;
            border: 1px solid #444;
        }
        .schedule-table th {
            background-color: #4a90e2;
            color: white;
        }
        .schedule-table td {
            background-color: #2a2d3b;
            color: #ccc;
            transition: background-color 0.3s ease;
        }
        .schedule-table td:hover {
            background-color: #53617d;
        }
        .current-class {
            background-color: #ffcc00;
            color: #2a2d3b;
            font-weight: bold;
        }
        .schedule-table td a {
            color: inherit;
            text-decoration: none;
        }
        footer {
            background-color: #232946;
            color: white;
            text-align: center;
            padding: 15px;
            font-size: 14px;
            position: absolute;
            width: 100%;
            bottom: 0;
        }
        .countdown {
            margin-top: 10px;
            font-size: 18px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <header>
        <h1>James' School Schedule</h1>
        <p>Track your A-Day and B-Day classes</p>
    </header>

    <div class="container">
        <table class="schedule-table">
            <thead>
                <tr>
                    <th>Time</th>
                    <th>A-Day Classes</th>
                    <th>B-Day Classes</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>8:00 AM - 9:00 AM</td>
                    <td id="pe" class="class"><a href="#">PE</a></td>
                    <td id="math" class="class"><a href="#">Math</a></td>
                </tr>
                <tr>
                    <td>9:10 AM - 10:10 AM</td>
                    <td id="spanish" class="class"><a href="#">Spanish</a></td>
                    <td id="aerospace" class="class"><a href="#">Aerospace</a></td>
                </tr>
                <tr>
                    <td>10:20 AM - 11:20 AM</td>
                    <td id="biology" class="class"><a href="#">Biology</a></td>
                    <td id="biology-b" class="class"><a href="#">Biology</a></td>
                </tr>
                <tr>
                    <td>11:30 AM - 12:30 PM</td>
                    <td id="ela" class="class"><a href="#">ELA</a></td>
                    <td id="apwh" class="class"><a href="#">AP World History</a></td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="container">
        <div id="countdown" class="countdown">Time left: --:--</div>
    </div>

    <footer>
        <p>Schedule powered by James' School Routine</p>
    </footer>

    <script>
        function getCurrentClass() {
            const now = new Date();
            const hour = now.getHours();
            const minute = now.getMinutes();
            const timeString = `${hour}:${minute < 10 ? "0" + minute : minute}`;
            
            // Define class times (example times for A-Day and B-Day)
            const classTimes = {
                "A-Day": [
                    { start: "8:00", end: "9:00", id: "pe" },
                    { start: "9:10", end: "10:10", id: "spanish" },
                    { start: "10:20", end: "11:20", id: "biology" },
                    { start: "11:30", end: "12:30", id: "ela" }
                ],
                "B-Day": [
                    { start: "8:00", end: "9:00", id: "math" },
                    { start: "9:10", end: "10:10", id: "aerospace" },
                    { start: "10:20", end: "11:20", id: "biology-b" },
                    { start: "11:30", end: "12:30", id: "apwh" }
                ]
            };

            // Get the current day (A-Day or B-Day)
            const isADay = (Math.floor((now.getDate() - 1) / 2) % 2 === 0);
            const day = isADay ? "A-Day" : "B-Day";
            const schedule = classTimes[day];

            // Highlight the current class and calculate time left
            let timeLeft = "--:--";
            schedule.forEach((classTime) => {
                const { start, end, id } = classTime;
                if (timeString >= start && timeString <= end) {
                    document.getElementById(id).classList.add("current-class");

                    // Calculate time left
                    const [endHour, endMinute] = end.split(":").map(Number);
                    const endTime = new Date();
                    endTime.setHours(endHour, endMinute, 0, 0);

                    const diff = endTime - now;
                    const minutesLeft = Math.floor(diff / 1000 / 60);
                    const secondsLeft = Math.floor((diff / 1000) % 60);
                    timeLeft = `${minutesLeft}:${secondsLeft < 10 ? "0" + secondsLeft : secondsLeft}`;
                } else {
                    document.getElementById(id).classList.remove("current-class");
                }
            });

            // Update the countdown
            document.getElementById("countdown").textContent = `Time left: ${timeLeft}`;
        }

        // Call the function to highlight the current class and update countdown
        window.onload = getCurrentClass;

        // Update every second
        setInterval(getCurrentClass, 1000);
    </script>
</body>
</html>
