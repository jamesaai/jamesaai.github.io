<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fun Games</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f2f2f2;
            color: #333;
            text-align: center;
            padding: 20px;
        }
        header {
            background-color: #ff5722;
            padding: 20px;
            color: white;
        }
        h1 {
            margin: 0;
        }
        .game-button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            margin: 10px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .game-button:hover {
            background-color: #45a049;
        }
        .game-container {
            margin: 20px 0;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        footer {
            margin-top: 20px;
            background-color: #333;
            color: white;
            padding: 10px;
        }
        .tic-tac-toe-board {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            grid-gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }
        .tic-tac-toe-cell {
            width: 100px;
            height: 100px;
            border: 2px solid #333;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            cursor: pointer;
            background-color: #e0e0e0;
        }
        #carGameCanvas {
            border: 2px solid #333;
            background-color: #e0e0e0;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <header>
        <h1>Welcome to Fun Games!</h1>
        <p>Enjoy a variety of exciting games!</p>
    </header>

    <!-- Game Navigation -->
    <div>
        <button class="game-button" onclick="startNumberGuessingGame()">Number Guessing Game</button>
        <button class="game-button" onclick="startRockPaperScissors()">Rock, Paper, Scissors</button>
        <button class="game-button" onclick="startTicTacToe()">Tic-Tac-Toe</button>
        <button class="game-button" onclick="startCarRacingGame()">Car Racing Game</button>
    </div>

    <!-- Number Guessing Game -->
    <div id="numberGuessingGame" class="game-container" style="display: none;">
        <h2>Guess the Number Game</h2>
        <p>Guess a number between 1 and 100!</p>
        <input type="number" id="guessInput" placeholder="Enter your guess">
        <button onclick="checkNumberGuess()">Submit</button>
        <p id="numberGuessFeedback"></p>
        <button onclick="resetGame()">Back to Main Menu</button>
    </div>

    <!-- Rock, Paper, Scissors Game -->
    <div id="rockPaperScissorsGame" class="game-container" style="display: none;">
        <h2>Rock, Paper, Scissors</h2>
        <p>Choose your move!</p>
        <button onclick="playRPS('rock')">Rock</button>
        <button onclick="playRPS('paper')">Paper</button>
        <button onclick="playRPS('scissors')">Scissors</button>
        <p id="rpsResult"></p>
        <button onclick="resetGame()">Back to Main Menu</button>
    </div>

    <!-- Tic-Tac-Toe Game -->
    <div id="ticTacToeGame" class="game-container" style="display: none;">
        <h2>Tic-Tac-Toe</h2>
        <p>Choose mode: <button onclick="start2PlayerTicTacToe()">2 Players</button> | <button onclick="startComputerTicTacToe()">Play Against Computer</button></p>
        <div class="tic-tac-toe-board" id="ticTacToeBoard"></div>
        <p id="ticTacToeResult"></p>
        <button onclick="resetGame()">Back to Main Menu</button>
    </div>

    <!-- Car Racing Game -->
    <div id="carRacingGame" class="game-container" style="display: none;">
        <h2>Car Racing Game</h2>
        <p>Use arrow keys to avoid obstacles!</p>
        <canvas id="carGameCanvas" width="400" height="600"></canvas>
        <button onclick="resetGame()">Back to Main Menu</button>
    </div>

    <footer>
        <p>&copy; 2024 Fun Games | All Rights Reserved</p>
    </footer>

    <script>
        // Number Guessing Game
        let targetNumber;
        let numberAttempts = 0;

        function startNumberGuessingGame() {
            document.getElementById("numberGuessingGame").style.display = "block";
            document.getElementById("rockPaperScissorsGame").style.display = "none";
            document.getElementById("ticTacToeGame").style.display = "none";
            document.getElementById("carRacingGame").style.display = "none";
            targetNumber = Math.floor(Math.random() * 100) + 1;
        }

        function checkNumberGuess() {
            const userGuess = parseInt(document.getElementById("guessInput").value);
            numberAttempts++;
            let feedback = '';
            if (userGuess === targetNumber) {
                feedback = `Congratulations! You guessed the correct number in ${numberAttempts} attempts.`;
            } else if (userGuess > targetNumber) {
                feedback = 'Too high! Try again.';
            } else {
                feedback = 'Too low! Try again.';
            }
            document.getElementById("numberGuessFeedback").innerText = feedback;
        }

        // Rock, Paper, Scissors
        const choices = ['rock', 'paper', 'scissors'];

        function startRockPaperScissors() {
            document.getElementById("numberGuessingGame").style.display = "none";
            document.getElementById("rockPaperScissorsGame").style.display = "block";
            document.getElementById("ticTacToeGame").style.display = "none";
            document.getElementById("carRacingGame").style.display = "none";
            document.getElementById("rpsResult").innerText = '';
        }

        function playRPS(playerChoice) {
            const computerChoice = choices[Math.floor(Math.random() * 3)];
            let result = '';
            if (playerChoice === computerChoice) {
                result = `It's a tie! Both chose ${playerChoice}.`;
            } else if (
                (playerChoice === 'rock' && computerChoice === 'scissors') ||
                (playerChoice === 'paper' && computerChoice === 'rock') ||
                (playerChoice === 'scissors' && computerChoice === 'paper')
            ) {
                result = `You win! ${playerChoice} beats ${computerChoice}.`;
            } else {
                result = `You lose! ${computerChoice} beats ${playerChoice}.`;
            }
            document.getElementById("rpsResult").innerText = result;
        }

        // Tic-Tac-Toe
        let board = ['', '', '', '', '', '', '', '', ''];
        let currentPlayer = 'X';
        let isComputerPlaying = false;

        function start2PlayerTicTacToe() {
            document.getElementById("numberGuessingGame").style.display = "none";
            document.getElementById("rockPaperScissorsGame").style.display = "none";
            document.getElementById("ticTacToeGame").style.display = "block";
            document.getElementById("carRacingGame").style.display = "none";
            document.getElementById("ticTacToeResult").innerText = '';
            isComputerPlaying = false;
            board = ['', '', '', '', '', '', '', '', ''];
            currentPlayer = 'X';
            renderBoard();
        }

        function startComputerTicTacToe() {
            document.getElementById("numberGuessingGame").style.display = "none";
            document.getElementById("rockPaperScissorsGame").style.display = "none";
            document.getElementById("ticTacToeGame").style.display = "block";
            document.getElementById("carRacingGame").style.display = "none";
            document.getElementById("ticTacToeResult").innerText = '';
            isComputerPlaying = true;
            board = ['', '', '', '', '', '', '', '', ''];
            currentPlayer = 'X';
            renderBoard();
        }

        function renderBoard() {
            const boardDiv = document.getElementById("ticTacToeBoard");
            boardDiv.innerHTML = '';
            for (let i = 0; i < 9; i++) {
                const cell = document.createElement("div");
                cell.classList.add("tic-tac-toe-cell");
                cell.innerText = board[i];
                cell.onclick = () => makeMove(i);
                boardDiv.appendChild(cell);
            }
        }

        function makeMove(index) {
            if (board[index] !== '') return;
            board[index] = currentPlayer;
            if (checkWinner()) {
                document.getElementById("ticTacToeResult").innerText = `${currentPlayer} wins!`;
            } else if (board.every(cell => cell !== '')) {
                document.getElementById("ticTacToeResult").innerText = "It's a tie!";
            } else {
                currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
                if (isComputerPlaying && currentPlayer === 'O') {
                    setTimeout(computerMove, 500);
                }
            }
            renderBoard();
        }

        function checkWinner() {
            const winningCombinations = [
                [0, 1, 2],
                [3, 4, 5],
                [6, 7, 8],
                [0, 3, 6],
                [1, 4, 7],
                [2, 5, 8],
                [0, 4, 8],
                [2, 4, 6],
            ];
            for (const combo of winningCombinations) {
                const [a, b, c] = combo;
                if (board[a] && board[a] === board[b] && board[a] === board[c]) {
                    return true;
                }
            }
            return false;
        }

        function computerMove() {
            const emptyCells = board.map((value, index) => value === '' ? index : null).filter(val => val !== null);
            const randomMove = emptyCells[Math.floor(Math.random() * emptyCells.length)];
            board[randomMove] = 'O';
            if (checkWinner()) {
                document.getElementById("ticTacToeResult").innerText = 'Computer wins!';
            } else if (board.every(cell => cell !== '')) {
                document.getElementById("ticTacToeResult").innerText = "It's a tie!";
            } else {
                currentPlayer = 'X';
            }
            renderBoard();
        }

        // Car Racing Game
        let carX = 180;
        let carY = 500;
        let obstacles = [];
        let gameInterval;
        let isGameOver = false;

        function startCarRacingGame() {
            document.getElementById("numberGuessingGame").style.display = "none";
            document.getElementById("rockPaperScissorsGame").style.display = "none";
            document.getElementById("ticTacToeGame").style.display = "none";
            document.getElementById("carRacingGame").style.display = "block";

            carX = 180;
            carY = 500;
            obstacles = [];
            isGameOver = false;

            const canvas = document.getElementById("carGameCanvas");
            const ctx = canvas.getContext("2d");

            document.addEventListener("keydown", moveCar);

            gameInterval = setInterval(() => {
                if (isGameOver) {
                    clearInterval(gameInterval);
                    alert("Game Over! Refresh the page to play again.");
                    return;
                }

                ctx.clearRect(0, 0, canvas.width, canvas.height);
                drawCar();
                generateObstacles();
                moveObstacles();
                checkCollisions();
            }, 20);
        }

        function moveCar(event) {
            if (event.key === "ArrowLeft" && carX > 0) {
                carX -= 10;
            } else if (event.key === "ArrowRight" && carX < 340) {
                carX += 10;
            }
        }

        function drawCar() {
            const canvas = document.getElementById("carGameCanvas");
            const ctx = canvas.getContext("2d");
            ctx.fillStyle = "#FF0000";
            ctx.fillRect(carX, carY, 40, 60);
        }

        function generateObstacles() {
            if (Math.random() < 0.02) {
                obstacles.push({ x: Math.random() * 360, y: 0 });
            }
        }

        function moveObstacles() {
            for (let i = 0; i < obstacles.length; i++) {
                obstacles[i].y += 5;
                if (obstacles[i].y > 600) {
                    obstacles.splice(i, 1);
                }
            }
        }

        function checkCollisions() {
            const canvas = document.getElementById("carGameCanvas");
            const ctx = canvas.getContext("2d");
            for (let i = 0; i < obstacles.length; i++) {
                ctx.fillStyle = "#00FF00";
                ctx.fillRect(obstacles[i].x, obstacles[i].y, 40, 60);
                if (
                    carX < obstacles[i].x + 40 &&
                    carX + 40 > obstacles[i].x &&
                    carY < obstacles[i].y + 60 &&
                    carY + 60 > obstacles[i].y
                ) {
                    isGameOver = true;
                }
            }
        }

        // Reset Game
        function resetGame() {
            document.getElementById("numberGuessingGame").style.display = "none";
            document.getElementById("rockPaperScissorsGame").style.display = "none";
            document.getElementById("ticTacToeGame").style.display = "none";
            document.getElementById("carRacingGame").style.display = "none";
        }
    </script>

</body>
</html>
