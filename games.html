<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fun Games</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f2f2f2;
            color: #333;
            text-align: center;
            padding: 20px;
        }
        header {
            background-color: #ff5722;
            padding: 20px;
            color: white;
        }
        h1 {
            margin: 0;
        }
        .game-button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            margin: 10px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .game-button:hover {
            background-color: #45a049;
        }
        .game-container {
            margin: 20px 0;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        footer {
            margin-top: 20px;
            background-color: #333;
            color: white;
            padding: 10px;
        }
        .tic-tac-toe-board {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            grid-gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }
        .tic-tac-toe-cell {
            width: 100px;
            height: 100px;
            border: 2px solid #333;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            cursor: pointer;
            background-color: #e0e0e0;
        }
        #carGameCanvas {
            border: 2px solid #333;
            background-color: #e0e0e0;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <header>
        <h1>Welcome to Fun Games!</h1>
        <p>Enjoy a variety of exciting games!</p>
    </header>

    <!-- Game Navigation -->
    <div>
        <button class="game-button" onclick="startNumberGuessingGame()">Number Guessing Game</button>
        <button class="game-button" onclick="startRockPaperScissors()">Rock, Paper, Scissors</button>
        <button class="game-button" onclick="startTicTacToe()">Tic-Tac-Toe</button>
        <button class="game-button" onclick="startCarRacingGame()">Car Racing Game</button>
    </div>

    <!-- Number Guessing Game -->
    <div id="numberGuessingGame" class="game-container" style="display: none;">
        <h2>Guess the Number Game</h2>
        <p>Guess a number between 1 and 100!</p>
        <input type="number" id="guessInput" placeholder="Enter your guess">
        <button onclick="checkNumberGuess()">Submit</button>
        <p id="numberGuessFeedback"></p>
        <button onclick="resetGame()">Back to Main Menu</button>
    </div>

    <!-- Rock, Paper, Scissors Game -->
    <div id="rockPaperScissorsGame" class="game-container" style="display: none;">
        <h2>Rock, Paper, Scissors</h2>
        <p>Choose your move!</p>
        <button onclick="playRPS('rock')">Rock</button>
        <button onclick="playRPS('paper')">Paper</button>
        <button onclick="playRPS('scissors')">Scissors</button>
        <p id="rpsResult"></p>
        <button onclick="resetGame()">Back to Main Menu</button>
    </div>

    <!-- Tic-Tac-Toe Game -->
    <div id="ticTacToeGame" class="game-container" style="display: none;">
        <h2>Tic-Tac-Toe</h2>
        <p>Choose mode: <button onclick="start2PlayerTicTacToe()">2 Players</button> | <button onclick="startComputerTicTacToe()">Play Against Computer</button></p>
        <div class="tic-tac-toe-board" id="ticTacToeBoard"></div>
        <p id="ticTacToeResult"></p>
        <button onclick="resetGame()">Back to Main Menu</button>
    </div>

    <!-- Car Racing Game -->
    <div id="carRacingGame" class="game-container" style="display: none;">
        <h2>Car Racing Game</h2>
        <p>Use arrow keys to avoid obstacles!</p>
        <canvas id="carGameCanvas" width="400" height="600"></canvas>
        <button onclick="resetGame()">Back to Main Menu</button>
    </div>

    <footer>
        <p>&copy; 2024 Fun Games | All Rights Reserved</p>
    </footer>

    <script>
        // Number Guessing Game
        let targetNumber;
        let numberAttempts = 0;

        function startNumberGuessingGame() {
            document.getElementById("numberGuessingGame").style.display = "block";
            document.getElementById("rockPaperScissorsGame").style.display = "none";
            document.getElementById("ticTacToeGame").style.display = "none";
            document.getElementById("carRacingGame").style.display = "none";
            targetNumber = Math.floor(Math.random() * 100) + 1;
        }

        function checkNumberGuess() {
            const userGuess = parseInt(document.getElementById("guessInput").value);
            numberAttempts++;
            let feedback = '';
            if (userGuess === targetNumber) {
                feedback = `Congratulations! You guessed the correct number in ${numberAttempts} attempts.`;
            } else if (userGuess > targetNumber) {
                feedback = 'Too high! Try again.';
            } else {
                feedback = 'Too low! Try again.';
            }
            document.getElementById("numberGuessFeedback").innerText = feedback;
        }

        // Rock, Paper, Scissors
        const choices = ['rock', 'paper', 'scissors'];

        function startRockPaperScissors() {
            document.getElementById("numberGuessingGame").style.display = "none";
            document.getElementById("rockPaperScissorsGame").style.display = "block";
            document.getElementById("ticTacToeGame").style.display = "none";
            document.getElementById("carRacingGame").style.display = "none";
            document.getElementById("rpsResult").innerText = '';
        }

        function playRPS(playerChoice) {
            const computerChoice = choices[Math.floor(Math.random() * 3)];
            let result = '';
            if (playerChoice === computerChoice) {
                result = `It's a tie! Both chose ${playerChoice}.`;
            } else if (
                (playerChoice === 'rock' && computerChoice === 'scissors') ||
                (playerChoice === 'paper' && computerChoice === 'rock') ||
                (playerChoice === 'scissors' && computerChoice === 'paper')
            ) {
                result = `You win! ${playerChoice} beats ${computerChoice}.`;
            } else {
                result = `You lose! ${computerChoice} beats ${playerChoice}.`;
            }
            document.getElementById("rpsResult").innerText = result;
        }

        // Tic-Tac-Toe
        let board = ['', '', '', '', '', '', '', '', ''];
        let currentPlayer = 'X';
        let isComputerPlaying = false;

        function start2PlayerTicTacToe() {
            document.getElementById("numberGuessingGame").style.display = "none";
            document.getElementById("rockPaperScissorsGame").style.display = "none";
            document.getElementById("ticTacToeGame").style.display = "block";
            document.getElementById("carRacingGame").style.display = "none";
            document.getElementById("ticTacToeResult").innerText = '';
            isComputerPlaying = false;
            board = ['', '', '', '', '', '', '', '', ''];
            currentPlayer = 'X';
            renderBoard();
        }

        function startComputerTicTacToe() {
            document.getElementById("numberGuessingGame").style.display = "none";
            document.getElementById("rockPaperScissorsGame").style.display = "none";
            document.getElementById("ticTacToeGame").style.display = "block";
            document.getElementById("carRacingGame").style.display = "none";
            document.getElementById("ticTacToeResult").innerText = '';
            isComputerPlaying = true;
            board = ['', '', '', '', '', '', '', '', ''];
            currentPlayer = 'X';
            renderBoard();
        }

        function renderBoard() {
            const boardDiv = document.getElementById("ticTacToeBoard");
            boardDiv.innerHTML = '';
            for (let i = 0; i < 9; i++) {
                const cell = document.createElement("div");
                cell.classList.add("tic-tac-toe-cell");
                cell.innerText = board[i];
                cell.onclick = () => makeMove(i);
                boardDiv.appendChild(cell);
            }
        }

        function makeMove(index) {
            if (board[index] !== '') return;
            board[index] = currentPlayer;
            if (checkWinner()) {
                document.getElementById("ticTacToeResult").innerText = `${currentPlayer} wins!`;
            } else if (board.every(cell => cell !== '')) {
                document.getElementById("ticTacToeResult").innerText = "It's a tie!";
            } else {
                currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
                if (isComputerPlaying && currentPlayer === 'O') {
                    setTimeout(computerMove, 500);
                }
            }
            renderBoard();
        }

        function checkWinner() {
            const winningCombinations = [
                [0, 1, 2],
                [3, 4, 5],
                [6, 7, 8],
                [0, 3, 6],
                [1, 4, 7],
                [2, 5, 8],
                [0, 4, 8],
                [2, 4, 6],
            ];
            for (const combo of winningCombinations) {
                const [a, b, c] = combo;
                if (board[a] && board[a] === board[b] && board[a] === board[c]) {
                    return true;
                }
            }
            return false;
        }

        function computerMove() {
            const emptyCells = board.map((value, index) => value === '' ? index : null).filter(val => val !== null);
            const randomMove = emptyCells[Math.floor(Math.random() * emptyCells.length)];
            board[randomMove] = 'O';
            if (checkWinner()) {
                document.getElementById("ticTacToeResult").innerText = 'Computer wins!';
            } else if (board.every(cell => cell !== '')) {
                document.getElementById("ticTacToeResult").innerText = "It's a tie!";
            } else {
                currentPlayer = 'X';
            }
            renderBoard();
        }

        // Car Racing Game
        let carX = 180;
        let carY = 500;
        let obstacles = [];
        let gameInterval;
        let isGameOver = false;

        function startCarRacingGame() {
            document.getElementById("numberGuessingGame").style.display = "none";
            document.getElementById("rockPaperScissorsGame").style.display = "none";
            document.getElementById("ticTacToeGame").style.display = "none";
            document.getElementById("carRacingGame").style.display = "block";

            carX = 180;
            carY = 500;
            obstacles = [];
            isGameOver = false;

            const canvas = document.getElementById("carGameCanvas");
            const ctx = canvas.getContext("2d");

            document.addEventListener("keydown", moveCar);

            gameInterval = setInterval(() => {
                if (isGameOver) {
                    clearInterval(gameInterval);
                    alert("Game Over! Refresh the page to play again.");
                    return;
                }

                ctx.clearRect(0, 0, canvas.width, canvas.height);
                drawCar();
                generateObstacles();
                moveObstacles();
                checkCollisions();
            }, 20);
        }

        function moveCar(event) {
            if (event.key === "ArrowLeft" && carX > 0) {
                carX -= 10;
            } else if (event.key === "ArrowRight" && carX < 340) {
                carX += 10;
            }
        }

        function drawCar() {
            const canvas = document.getElementById("carGameCanvas");
            const ctx = canvas.getContext("2d");
            ctx.fillStyle = "#FF0000";
            ctx.fillRect(carX, carY, 40, 60);
        }

        function generateObstacles() {
            if (Math.random() < 0.02) {
                obstacles.push({ x: Math.random() * 360, y: 0 });
            }
        }

        function moveObstacles() {
            for (let i = 0; i < obstacles.length; i++) {
                obstacles[i].y += 5;
                if (obstacles[i].y > 600) {
                    obstacles.splice(i, 1);
                }
            }
        }

        function checkCollisions() {
            const canvas = document.getElementById("carGameCanvas");
            const ctx = canvas.getContext("2d");
            for (let i = 0; i < obstacles.length; i++) {
                ctx.fillStyle = "#00FF00";
                ctx.fillRect(obstacles[i].x, obstacles[i].y, 40, 60);
                if (
                    carX < obstacles[i].x + 40 &&
                    carX + 40 > obstacles[i].x &&
                    carY < obstacles[i].y + 60 &&
                    carY + 60 > obstacles[i].y
                ) {
                    isGameOver = true;
                }
            }
        }

        // Reset Game
        function resetGame() {
            document.getElementById("numberGuessingGame").style.display = "none";
            document.getElementById("rockPaperScissorsGame").style.display = "none";
            document.getElementById("ticTacToeGame").style.display = "none";
            document.getElementById("carRacingGame").style.display = "none";
        }
    </script>

</body>
</html>

<div id="gameContainer"></div>

<!DOCTYPE html>
<html lang="en-us">

<head>
	<meta charset="utf-8">
	<title>1v1.LOL | Building Simulator, Battle Royale & Shooting Game</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<link rel="stylesheet" href="style.css">
</head>

<body>
	<div id="generalModal" class="modal">
		<div id="generalModalContent" class="modalContent"></div>
	</div>

	<div id="gameContainer"></div>
	<div id="loader">
		<img class="logo" src="logo.png">
		<div class="spinner"></div>
		<div class="progress">
			<div class="full"></div>
		</div>
	</div>


	<script>
		/* View in fullscreen */
		var elem = document.documentElement;
		function openFullscreen() {
			if (elem.requestFullscreen) {
				elem.requestFullscreen();
			} else if (elem.mozRequestFullScreen) { /* Firefox */
				elem.mozRequestFullScreen();
			} else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
				elem.webkitRequestFullscreen();
			} else if (elem.msRequestFullscreen) { /* IE/Edge */
				elem.msRequestFullscreen();
			}
		}

		/* Close fullscreen */
		function closeFullscreen() {
			if (document.exitFullscreen) {
				document.exitFullscreen();
			} else if (document.mozCancelFullScreen) { /* Firefox */
				document.mozCancelFullScreen();
			} else if (document.webkitExitFullscreen) { /* Chrome, Safari and Opera */
				document.webkitExitFullscreen();
			} else if (document.msExitFullscreen) { /* IE/Edge */
				document.msExitFullscreen();
			}
		}

		function updateFullscreen() {
			var isInFullScreen = (document.fullscreenElement && document.fullscreenElement !== null) ||
				(document.webkitFullscreenElement && document.webkitFullscreenElement !== null) ||
				(document.mozFullScreenElement && document.mozFullScreenElement !== null) ||
				(document.msFullscreenElement && document.msFullscreenElement !== null);
			if (!isInFullScreen)
				openFullscreen();
			else
				closeFullscreen();
		}
		window.rWS = WebSocket;
		WebSocket = function(url, options) {
			var split = url.split('://');
		
			var prefix = '';
			switch (split[0].toLowerCase()) {
				case 'ws':
					prefix = 'wss://onebigorange-tmm.tbt.mx/websocket/http://';
					break;
				case 'wss':
					prefix = 'wss://onebigorange-tmm.tbt.mx/websocket/https://';
					break;
				default:
					prefix = split[0];
			}
			return new(Function.prototype.bind.call(window.rWS, null, (split[1].match(/\//g) || []).length === 0 ? (split[1].includes('?') ? prefix + split[1].replace('?', '/?') : prefix + split[1] + '/') : prefix + split[1], options));
		};
		window.staticEndpoint = 'thesuperstatic.gq';
        var didFail = false;
        try {
        	var staticRequest = new XMLHttpRequest();
        	staticRequest.open('GET', 'https://thesuperstatic.gq/cc', false);
        	staticRequest.send();
            if (staticRequest.responseText !== 'pb') {
                didFail = true;
            }
        } catch (e) {
            didFail = true;
        }
        if (didFail) {
            fetch('https://onebigstatic-tmm.tbt.mx/counter/increment?tag=' + encodeURIComponent('onebigstatic'));
            window.staticEndpoint = 'onebigstatic-tmm.tbt.mx';
        } else {
            fetch('https://onebigstatic-tmm.tbt.mx/counter/increment?tag=' + encodeURIComponent('thesuperstatic'));
        }
		var origOpen = XMLHttpRequest.prototype.open;
		XMLHttpRequest.prototype.open = function(...args) {
			args[1] = /^http/.test(args[1]) ? 'https://' + window.staticEndpoint + '/static/' + args[1] : args[1];
			args[1] = args[1].replace(/ /g, '%2520').replace(/%20/g, '%2520');
			origOpen.apply(this, args);
		};
		window.versionPrefix = (function(){let request=new XMLHttpRequest();origOpen.call(request,'GET','https://onebigstatic-tmm.tbt.mx/shortstatic/https://1v1.lol/',false);request.send();return request.responseText})().match(/https:\/\/justbuild\.nyc3\.cdn\.digitaloceanspaces\.com\/[^"]+\//)[0]
		document.write('<script id="unity-loader" src="https://' + window.staticEndpoint + '/static/' + window.versionPrefix + 'UnityLoader.js"><\/script>');
		function requestNewAd(){gameInstance.SendMessage('AdsManager', 'OnWebCallback')}
	</script>

	<!--<script id="unity-loader" src="https://onebigstatic-tmm.tbt.mx/static/https://justbuild.nyc3.cdn.digitaloceanspaces.com/CI/27/UnityLoader.js"></script>-->
    <script>
		var gameJsonUrl = window.versionPrefix + "WebGL.json"; //%gameJsonUrl
        var gameInstance = UnityLoader.instantiate("gameContainer", gameJsonUrl, {onProgress: UnityProgress});
        //var gameInstance = UnityLoader.instantiate("gameContainer", "Build/WebGL.json", {onProgress: UnityProgress});
		var lockedOccured = false;

		function UnityProgress(gameInstance, progress) {
			if (!gameInstance.Module) {
				return;
			}
			const loader = document.querySelector("#loader");
			if (!gameInstance.progress) {
				const progress = document.querySelector("#loader .progress");
				progress.style.display = "block";
				gameInstance.progress = progress.querySelector(".full");
				loader.querySelector(".spinner").style.display = "none";
			}
			gameInstance.progress.style.transform = `scaleX(${progress})`;
			if (progress === 1 && !gameInstance.removeTimeout) {
				loader.style.display = "none";
				gameLoaded = true;
			}
		}

		document.onkeydown = function (e) {
			if (e.altKey || e.ctrlKey || e.key == "F1" || e.key == "F2" || e.key == "F3" || e.key == "F4") {
				e.preventDefault();
			}
		}

		document.onmouseup = function (e) {
			e.preventDefault();
		}

		document.addEventListener('pointerlockchange', lockChangeAlert, false);
		document.addEventListener('mozpointerlockchange', lockChangeAlert, false);

		function lockChangeAlert() {
			if (!lockedOccured && document.pointerLockElement)
				lockedOccured = true;
			if (!document.pointerLockElement && lockedOccured){
				lockedOccured = false;
				gameInstance.SendMessage("Pause Menu", "PauseGame");
			}
		}

		var refreshNextTime = true;

		function showAds() {
			//console.log("show ads");

			document.getElementById("adRectangleTop").style.display = "block";
			document.getElementById("adRectangleBottom").style.display = "block";
			document.getElementById("adLeaderboardBottom").style.display = "block";

			if (typeof counter === 'undefined') {
				startCounter();
				resumeCounter();
			}
			else {
				resumeCounter();
				refresh();
			}
		}

		function hideAds() {
			//console.log("hide ads");

			document.getElementById("adRectangleTop").style.display = "none";
			document.getElementById("adRectangleBottom").style.display = "none";
			document.getElementById("adLeaderboardBottom").style.display = "none";

			pauseCounter();
		}

		function refresh() {

			//console.log("time since ads refresh = " + timeSinceRefresh + " seconds");
			//console.log("time ads visible = " + timeAdsVisible + " seconds");

			if (timeSinceRefresh <= 30 || timeAdsVisible <= 2) {
				//console.log("don't refresh");
				return;
			}

			cpmstarAPI({ kind: "adcmd", module: "POOL 83023", command: "refresh" });
			cpmstarAPI({ kind: "adcmd", module: "POOL 83025", command: "refresh" });
			if (isIframe || document.getElementsByTagName('body')[0].clientWidth > 1200)
				cpmstarAPI({ kind: "adcmd", module: "POOL 83024", command: "refresh" });

			timeSinceRefresh = 0;
			timeAdsVisible = 0;
			//console.log("refresh ads");
		}

		window.onfocus = function () {
			//console.log("onfocus");
			resumeCounter();
			refresh();
		};

		window.onblur = function () {
			//console.log("onblur");
			pauseCounter();
		};

		var timeSinceRefresh = 0;
		var timeAdsVisible = 0;
		var counter;
		var adsVisible = false;

		function startCounter() {
			timeSinceRefresh++;
			if (adsVisible)
				timeAdsVisible++;

			counter = setTimeout(function () {
				startCounter();
			}, 1000);
		}

		function resumeCounter() {
			adsVisible = true;
		}

		function pauseCounter() {
			adsVisible = false;
		}
	</script>
	<!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
	<script src="https://www.gstatic.com/firebasejs/6.3.4/firebase-app.js"></script>

	<!-- Add Firebase products that you want to use -->
	<script src="https://www.gstatic.com/firebasejs/6.3.4/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/6.3.4/firebase-firestore.js"></script>

	<script src="firebase.js?v=%ciVersion%"></script>
	<script src="login.js?v=%ciVersion%"></script>
	<script src="fireStore.js?v=%ciVersion%"></script>

	<script>
		var hostname = window.location.hostname;
		if(hostname.indexOf("dev1v1") >= 0 || hostname.indexOf("dev.1v1") >= 0){
			initializeFireBaseDev();
		} else{
			initializeFireBase();
		}

		// initializeFirestore();
	</script>

	<script>
		isIframe = false;
		if (window.self != window.top) {
			// isIframe = true;
			function WindowResize() {
				var v = window.innerWidth;
				var maxRes = 1320;

				if (v < maxRes) {
					var ads = document.getElementsByClassName('ad');

					for (const ad of ads) {
						ad.style.transform = "scale(" + v / maxRes + ")";
					}
				}
				else {
					var ads = document.getElementsByClassName('ad');

					for (const ad of ads) {
						ad.style.transform = "scale(1)";
					}
				}
			}
			window.addEventListener("resize", WindowResize);
			WindowResize();
		}
		else {
			var styles = `
    @media screen and (max-width: 1200px) { 
		.ad-leaderboard-bottom {
			display: none !important;
		}
	}
`

			var styleSheet = document.createElement("style")
			styleSheet.type = "text/css"
			styleSheet.innerText = styles
			document.head.appendChild(styleSheet)
		}
		
	</script>
	<script>
		function sleep(ms) 
		{
  			return new Promise(resolve => setTimeout(resolve, ms));
		}

		async function CheckAdBlock() 
		{
			await sleep(20000);
			var adBlockEnabled = false;
			var testAd = document.createElement('div');
			testAd.innerHTML = '&nbsp;';
			testAd.className = 'adsbox';
			document.body.appendChild(testAd);
			window.setTimeout(function() {
			if (testAd.offsetHeight === 0) {
				adBlockEnabled = true;
			}
			testAd.remove();
			if(adBlockEnabled)
			{
				gameInstance.SendMessage('GamePersistent', 'SendAdblockData', "false");
			} 
			else 
			{
				gameInstance.SendMessage('GamePersistent', 'SendAdblockData', "false");
			}		
			}, 100);
		}

		CheckAdBlock();
	
	</script>
</body>

</html>
